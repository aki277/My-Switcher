(function(c,R,n,a,t){"use strict";const{FormSection:s,FormRow:i,FormInput:d,FormText:A}=a.Forms,{View:v,TouchableOpacity:E,Text:P,Alert:T}=a.General,o=R.findByProps("login","logout");var S={onLoad:function(){console.log("SafeSwitcher Loaded")},onUnload:function(){console.log("SafeSwitcher Unloaded")},settings:function(){const[r,f]=t.React.useState(""),[u,g]=t.React.useState(""),[k,h]=t.React.useReducer(function(e){return e+1},0);n.storage.accounts||(n.storage.accounts=[]);const y=function(){!r||!u||(n.storage.accounts.push({name:r,token:u}),f(""),g(""),h())},w=function(e){n.storage.accounts.splice(e,1),h()},x=function(e){try{if(!e)return;o.login(e)}catch(l){console.log(l),o.logout(),setTimeout(function(){return o.login(e)},1e3)}};return t.React.createElement(v,{style:{flex:1}},t.React.createElement(s,{title:"Add New Account"},t.React.createElement(d,{value:r,onChange:f,placeholder:"Account Name"}),t.React.createElement(d,{value:u,onChange:g,placeholder:"Token",secureTextEntry:!0}),t.React.createElement(i,{label:"Save Account",onPress:y})),t.React.createElement(s,{title:"Your Accounts"},n.storage.accounts.map(function(e,l){return t.React.createElement(i,{label:e.name,subLabel:e.token?"Token saved securely":"No token",onPress:function(){a.General.Alert.alert("Switch Account",`Switch to ${e.name}?`,[{text:"Cancel",style:"cancel"},{text:"Switch",onPress:function(){return x(e.token)}},{text:"Delete",style:"destructive",onPress:function(){return w(l)}}])}})})))}};return c.default=S,Object.defineProperty(c,"__esModule",{value:!0}),c})({},vendetta.metro,vendetta.plugin,vendetta.ui.components,vendetta.metro.common);
