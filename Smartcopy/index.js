(function(o,t,d,c,s){"use strict";const n=t.findByProps("createElement","useState"),{View:g,TouchableOpacity:u,Text:y,Image:m}=t.findByProps("View","Image","TouchableOpacity","Text")||{},p=t.findByProps("setString");function C(){let e=t.findByDisplayName("MessageContent")||t.findByProps("MessageContent")?.MessageContent;return e?{comp:e,name:"MessageContent"}:(e=t.findByDisplayName("MessageAccessories")||t.findByProps("MessageAccessories")?.MessageAccessories,e?{comp:e,name:"MessageAccessories"}:(e=t.findByDisplayName("DCDMessageContent"),e?{comp:e,name:"DCDMessageContent"}:null))}let a;var h={onLoad:function(){const e=C();if(!e){console.error("Smart Copy: No targets found."),c.showToast("Fatal: Could not find MessageContent or Accessories.","ic_warning");return}a=d.after("default",e.comp,function(D,i){const f=D[0]||{},r=f.content||f.message?.content;if(!r||typeof r!="string")return i;const M=/```(?:[\w-]+\n)?([\s\S]+?)```/,l=r.match(M);if(l){const B=l[1],b=n.createElement(u,{onPress:function(){p.setString(B.trim()),c.showToast("Code Copied!",s.getAssetIDByName("ic_check"))},style:{marginTop:6,marginBottom:2,backgroundColor:"#2f3136",borderRadius:6,paddingVertical:6,paddingHorizontal:10,alignSelf:"flex-start",flexDirection:"row",alignItems:"center",borderColor:"rgba(255,255,255,0.1)",borderWidth:1}},[n.createElement(m,{source:s.getAssetIDByName("ic_copy_message_link")||s.getAssetIDByName("ic_copy"),style:{width:14,height:14,tintColor:"#ffffff",marginRight:6}}),n.createElement(y,{style:{color:"#ffffff",fontWeight:"700",fontSize:12,fontFamily:"gg_sans_bold"}},"Copy Code")]);return n.createElement(g,{style:{flexDirection:"column"}},[i,b])}return i})},onUnload:function(){a&&a()}};return o.default=h,Object.defineProperty(o,"__esModule",{value:!0}),o})({},vendetta.metro,vendetta.patcher,vendetta.ui.toasts,vendetta.ui.assets);
